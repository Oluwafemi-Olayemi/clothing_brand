"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var c=t[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(t,r,c){return r&&e(t.prototype,r),c&&e(t,c),t}}();!function(e){new(function(){function t(){var r=this;_classCallCheck(this,t),e(document).ready(function(){r.initSlideProduct()}),e(window).resize(function(){r.initSlideProduct()}),e(".woocommerce-product-gallery").on("wc-product-gallery-after-init",function(){r.singleProductGalleryImages()})}return _createClass(t,[{key:"singleProductGalleryImages",value:function(){var t=this,r=e(".single-product .woocommerce-product-gallery__image > a");r.length&&r.attr("data-elementor-open-lightbox","no"),e(".woocommerce-single-style-1 .woocommerce-product-gallery").length&&(this.productVerticalSlider(),e(window).resize(function(){t.productVerticalSlider()}))}},{key:"productVerticalSlider",value:function(){var t=e("body").hasClass("rtl");setTimeout(function(){var r=e(".woocommerce-single-style-1 .woocommerce-product-gallery .flex-control-thumbs"),c=e(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:eq(0)").height(),a=0,o=1,i=!1;e(".woocommerce-product-gallery .flex-control-thumbs li").each(function(e,t){if((a+=90)>c)return o=e,i=!0,!1}),r.not(".slick-initialized").slick({rtl:t,infinite:!1,slidesToShow:o,vertical:!0,verticalSwiping:!0}),i?r.slick("slickSetOption","slidesToShow",o):r.slick("unslick")},200)}},{key:"initSlideProduct",value:function(){var t=e(".single-product div.product .images"),r=t.find(".flex-viewport").width();t.find(".woocommerce-product-gallery__image > a").css({"max-width":r,display:"block"})}},{key:"productTogerther",value:function(){var t=e(".opal-frequently-bought");if(!(t.length<=0)){var r=t.find(".otf-total-price .woocommerce-Price-amount"),c=t.find(".otf_add_to_cart_button"),a=parseFloat(t.find("#otf-data_price").data("price"));t.data("currency"),t.data("thousand"),t.data("decimal"),t.data("price_decimals"),t.data("currency_pos");t.find("input[type=checkbox]").on("change",function(){var o=e(this).val();e(this).closest("li").toggleClass("uncheck");var i=parseFloat(e(this).closest("li").find(".product-price").data("price"));e(this).closest("li").hasClass("uncheck")?(t.find("#fbt-product-"+o).addClass("un-active"),a-=i):(t.find("#fbt-product-"+o).removeClass("un-active"),a+=i);var n="0";t.find(".product-list li").each(function(){e(this).hasClass("uncheck")||(n+=","+e(this).find("input[type=checkbox]").val())}),c.attr("value",n),r.html(this.formatNumber(a))}),t.on("click",".otf_add_to_cart_button.ajax_add_to_cart",function(){var t=e(this);t.addClass("loading");var r=window.location.href;e.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"otf_woocommerce_fbt_add_to_cart",product_ids:t.attr("value")},error:function(){window.location=r},success:function(r){if("undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);e(document.body).trigger("updated_wc_div"),e(document.body).on("wc_fragments_refreshed",function(){t.removeClass("loading")})}})})}}},{key:"formatNumber",value:function(e){var t=e;if(parseInt(price_decimals)>0){e=e.toFixed(price_decimals)+"";for(var r=e.split("."),c=r[0],a=r.length>1?decimal+r[1]:"",o=/(\d+)(\d{3})/;o.test(c);)c=c.replace(o,"$1"+thousand+"$2");t=c+a}switch(currency_pos){case"left":return currency+t;case"right":return t+currency;case"left_space":return currency+" "+t;case"right_space":return t+" "+currency}}}]),t}())}(jQuery);
//# sourceMappingURL=single.js.map
