<?php

namespace Elementor;

if (!defined('ABSPATH')) {
    exit; // Exit if accessed directly.
}
use Elementor\Core\Schemes\Typography as Scheme_Typography;
use Elementor\Core\Schemes\Color as Scheme_Color;
/**
 * Elementor heading widget.
 *
 * Elementor widget that displays an eye-catching headlines.
 *
 * @since 1.0.0
 */
class  OSF_Elementor_Heading extends Widget_Heading {

    public function get_title() {
        return __('Opal Heading', 'striz-core');
    }

    protected function register_controls() {
        $this->start_controls_section(
            'section_title',
            [
                'label' => __('Title', 'striz-core'),
            ]
        );

        $this->add_control(
            'title',
            [
                'label'       => __('Title', 'striz-core'),
                'type'        => Controls_Manager::TEXTAREA,
                'dynamic'     => [
                    'active' => true,
                ],
                'placeholder' => __('Enter your title', 'striz-core'),
                'default'     => __('Add Your Heading Text Here', 'striz-core'),
            ]
        );

        $this->add_control(
            'link',
            [
                'label'     => __('Link', 'striz-core'),
                'type'      => Controls_Manager::URL,
                'dynamic'   => [
                    'active' => true,
                ],
                'default'   => [
                    'url' => '',
                ],
                'separator' => 'before',
            ]
        );

        $this->add_control(
            'size',
            [
                'label'   => __('Size', 'striz-core'),
                'type'    => Controls_Manager::SELECT,
                'default' => 'default',
                'options' => [
                    'default' => __('Default', 'striz-core'),
                    'small'   => __('Small', 'striz-core'),
                    'medium'  => __('Medium', 'striz-core'),
                    'large'   => __('Large', 'striz-core'),
                    'xl'      => __('XL', 'striz-core'),
                    'xxl'     => __('XXL', 'striz-core'),
                ],
            ]
        );

        $this->add_control(
            'header_size',
            [
                'label'   => __('HTML Tag', 'striz-core'),
                'type'    => Controls_Manager::SELECT,
                'options' => [
                    'h1'   => 'H1',
                    'h2'   => 'H2',
                    'h3'   => 'H3',
                    'h4'   => 'H4',
                    'h5'   => 'H5',
                    'h6'   => 'H6',
                    'div'  => 'div',
                    'span' => 'span',
                    'p'    => 'p',
                ],
                'default' => 'h2',
            ]
        );

        $this->add_responsive_control(
            'align',
            [
                'label'     => __('Alignment', 'striz-core'),
                'type'      => Controls_Manager::CHOOSE,
                'options'   => [
                    'left'    => [
                        'title' => __('Left', 'striz-core'),
                        'icon'  => 'eicon-text-align-left',
                    ],
                    'center'  => [
                        'title' => __('Center', 'striz-core'),
                        'icon'  => 'eicon-text-align-center',
                    ],
                    'right'   => [
                        'title' => __('Right', 'striz-core'),
                        'icon'  => 'eicon-text-align-right',
                    ],
                    'justify' => [
                        'title' => __('Justified', 'striz-core'),
                        'icon'  => 'eicon-text-align-justify',
                    ],
                ],
                'default'   => '',
                'selectors' => [
                    '{{WRAPPER}}' => 'text-align: {{VALUE}};',
                ],
            ]
        );

        $this->add_control(
            'show_decor',
            [
                'label' => __('Heading Decor', 'striz-core'),
                'type'  => Controls_Manager::SWITCHER,
            ]
        );

        $this->add_control(
            'view',
            [
                'label'   => __('View', 'striz-core'),
                'type'    => Controls_Manager::HIDDEN,
                'default' => 'traditional',
            ]
        );

        $this->end_controls_section();

        $this->start_controls_section(
            'section_title_style',
            [
                'label' => __('Title', 'striz-core'),
                'tab'   => Controls_Manager::TAB_STYLE,
            ]
        );

        $this->add_control(
            'title_color',
            [
                'label'     => __('Text Color', 'striz-core'),
                'type'      => Controls_Manager::COLOR,
                'scheme'    => [
                    'type'  => Scheme_Color::get_type(),
                    'value' => Scheme_Color::COLOR_1,
                ],
                'selectors' => [
                    // Stronger selector to avoid section style from overwriting
                    '{{WRAPPER}}.elementor-widget-heading .elementor-heading-title' => 'color: {{VALUE}};',
                ],
            ]
        );

        $this->add_group_control(
            Group_Control_Typography::get_type(),
            [
                'name'     => 'typography',
                'scheme'   => Scheme_Typography::TYPOGRAPHY_1,
                'selector' => '{{WRAPPER}} .elementor-heading-title',
            ]
        );

        $this->add_group_control(
            Group_Control_Text_Shadow::get_type(),
            [
                'name'     => 'text_shadow',
                'selector' => '{{WRAPPER}} .elementor-heading-title',
            ]
        );

        $this->add_control(
            'blend_mode',
            [
                'label'     => __('Blend Mode', 'striz-core'),
                'type'      => Controls_Manager::SELECT,
                'options'   => [
                    ''            => __('Normal', 'striz-core'),
                    'multiply'    => 'Multiply',
                    'screen'      => 'Screen',
                    'overlay'     => 'Overlay',
                    'darken'      => 'Darken',
                    'lighten'     => 'Lighten',
                    'color-dodge' => 'Color Dodge',
                    'saturation'  => 'Saturation',
                    'color'       => 'Color',
                    'difference'  => 'Difference',
                    'exclusion'   => 'Exclusion',
                    'hue'         => 'Hue',
                    'luminosity'  => 'Luminosity',
                ],
                'selectors' => [
                    '{{WRAPPER}} .elementor-heading-title' => 'mix-blend-mode: {{VALUE}}',
                ],
                'separator' => 'none',
            ]
        );
        $this->add_control(
            'decor_color',
            [
                'label'     => __('Decor Color', 'striz-core'),
                'type'      => Controls_Manager::COLOR,
                'scheme'    => [
                    'type'  => Scheme_Color::get_type(),
                    'value' => Scheme_Color::COLOR_1,
                ],
                'selectors' => [
                    '{{WRAPPER}} .heading-decor svg' => 'fill: {{VALUE}};',
                ],
                'condition' => [
                    'show_decor' => 'yes'
                ]
            ]
        );

        $this->end_controls_section();
    }

    /**
     * Render heading widget output on the frontend.
     *
     * Written in PHP and used to generate the final HTML.
     *
     * @since  1.0.0
     * @access protected
     */
    protected function render() {
        $settings = $this->get_settings_for_display();

        if (empty($settings['title'])) {
            return;
        }

        $this->add_render_attribute('title', 'class', 'elementor-heading-title');

        if (!empty($settings['size'])) {
            $this->add_render_attribute('title', 'class', 'elementor-size-' . $settings['size']);
        }

        $this->add_inline_editing_attributes('title');

        $title = $settings['title'];

        if (!empty($settings['link']['url'])) {
            $this->add_render_attribute('url', 'href', $settings['link']['url']);

            if ($settings['link']['is_external']) {
                $this->add_render_attribute('url', 'target', '_blank');
            }

            if (!empty($settings['link']['nofollow'])) {
                $this->add_render_attribute('url', 'rel', 'nofollow');
            }

            $title = sprintf('<a %1$s>%2$s</a>', $this->get_render_attribute_string('url'), $title);
        }

        $title_html = sprintf('<%1$s %2$s>%3$s</%1$s>', $settings['header_size'], $this->get_render_attribute_string('title'), $title);

        if ($settings['show_decor'] == 'yes') {
            $title_html .= '<div class="heading-decor"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 160 6" xml:space="preserve"><g class="nc-icon-wrapper"><path fill-rule="evenodd" clip-rule="evenodd" d="M.9 2.3C1 2.1.7 2 .6 1.8c-.2.1-.3.2-.5.3.2.3 0 .6-.1.9.2 0 .2.1.4.1.1-.1.4-.2.4-.2-.1 0-.1.3 0 .3.2-.1.4-.2.7-.2-.2-.4.2-.8.2-1.1-.4 0-.5.3-.8.4zM68.2 5c.1.1.2.1.3 0 0-.1.1-.3.1-.4-.3 0-.3.3-.4.4zm3.3-1.2c0 .2.1.3.2.3-.1-.1-.1-.2-.2-.3zm48.7 1.6c.2 0 .1-.2 0-.3v.3zm2.2-2.3c.1 0-.2.1-.2.2.2 0 .1.3.4.3 0-.3.2-.3.2-.4-.1 0-.1.1-.2.1 0-.1-.1-.3-.2-.2zm12.9-.2V3h.2c0-.1-.1 0-.2-.1zm8 1c0-.1.1-.1 0-.2s-.1.2 0 .2zm2.5 0c-.1.1-.1.1 0 0 0 .1.1 0 0 0zm7-1.4c-.1.2.4.1 0 0zm5.1-1c-.2 0-.6.1-.6.2h.1c.1-.2.3-.1.4 0 .5.1.7-.3 1.1-.1.1-.1.3-.1.3-.2-.3-.1-.8.1-1.3.1zm-.8-.9h-2.2c-1.5.1-3 .1-4.4.1-.6 0-1.9-.1-2.1.1-.5-.1-1.3-.1-1.9-.1-7.1 0-14.6.4-21.9 0-1.4-.1-2.9.1-4.4 0-1.2 0-2.4-.2-3.5-.1-.5 0-1 .1-1.5.2-3.5.2-7.1.1-10.9 0-3.9-.2-7.6-.1-11.5-.3C86.4.2 80 .5 73.7.2h-.8c-1.3-.1-2.5.1-3.8.2-2.2.1-4.3.1-6.4.2-3 .1-5.9.4-8.9.3C51.6.8 49.2.8 47 .7h-1.6c-2.2-.1-4.5-.1-6.7 0-2.4.1-4.7 0-6.9 0-.8 0-1.4.2-2.1.2-.2 0-.4-.1-.6 0-.3 0-.5.1-.8.1-.2 0-.5-.1-.8-.1-.3 0-.5.1-.8.1-.3 0-.6-.1-.8-.1-.4 0-.8.1-1.3.1-.6 0-1 .1-1.6.1h-1.7c-1.1 0-2.2.1-3.3.1-1 0-2.1.1-3.1 0-1.6-.1-3.3.1-4.8.1-.4 0-.8.1-1.2.1-.3 0-.5-.1-.8-.1-.4 0-.7.1-1 .1H5.4c-.4-.2-.9-.1-1.4-.1H2.6c0 .1.1.1 0 .2.3-.1.6-.1.7 0-.1.2.2.4-.1.5-.1-.1-.3-.2-.4-.1 0-.2-.2-.2-.3-.3 0-.1.1-.1.1-.2-.3 0-1-.1-.8.2.2-.2.5-.2.7 0 0 .1 0 .3.1.4-.4.2-.4.4-.5.9-.1 0-.6.2-.2.3.1-.1 0-.1 0-.2H2c.1.1.2.2.2.4.2 0 .1-.1.2-.1v.1c.1-.1 0-.2.2-.2s.1.1.2.1c.1-.2 0-.5.3-.6 0 .2 0 .4-.1.5.1.1.2.1.3.2.1 0 .1-.2.3-.2 0 0 0 .1.1.1 0-.1.1-.1.2-.1 0 .3.3.4.5.5.5-.1.7-.3 1.2-.1 0-.2.1-.3.4-.3v.4c.1 0 .1-.1.2-.1v.1c.3 0 .4-.4.7-.2 0-.3.3-.3.6-.4.2.2.4 0 .6.2.1 0 0-.2.2-.1.1.1.3.1.3.3.1-.1.3 0 .5 0 0 .1.1.1.1.2.3-.1.3 0 .5-.1 0 .1.1.1.1.2.1-.1.3 0 .5.1-.1 0-.1.2 0 .3.3-.1.4.1.7 0 0 .1.1.3.2.1 0 .1.1.3.3.3.1 0 .1-.2.2-.2s0 .1.2.1c.5-.1 1 0 1.4.1.1-.3.4-.1.8-.2.1 0 .1.2.2.2.2-.1.5-.2.7-.1v-.1c.2.2.6.1.9.2.1-.3.4 0 .6-.1.2.3.4.1.7.1.4-.2.9-.1 1.5-.2 0 .1.2.1.2.2l.3-.3c.3.2.5 0 .7.1.1-.1.2-.1.3-.2 0 .2.1.1.3.1.2.1.3.2.4.2.2 0 .3-.3.5-.3.4-.1.6.1.8-.1v.1c.4-.1.8-.1 1 .2.4-.4 1 0 1.5-.3.1 0 .1.1.2.1 0-.2.2 0 .3 0 .4-.1.6 0 .8-.2-.1.2.1.2.1.3.4-.3.9 0 1.3-.2v.2c.2-.1.2-.2.4-.2.2.2.7 0 .7.2.1 0 0-.2.1-.1.1 0 0 .1.2.1.8-.2 2-.1 2.8-.1.1 0 .1-.1.1-.1.1 0 .1.1.2.1s.1-.1.1-.1c.8.1 1.3-.1 2 .1.3-.1 1.1-.1 1.3 0 .2-.1.7-.1.9.1.1 0 .1-.2.3-.2.2.1.3.2.5.3.1 0 0-.1.2-.1.2.1.2.2.2.3.1 0 .3-.1.4 0 0-.1.1-.1.2-.1.2 0 .1.2.2.3.2.1.2-.1.3-.1.5 0 .5.3.9.3.1 0 .1-.2.4-.1 0 .1-.1.1 0 .2.1-.1.2-.2.3-.2.2.1.5.4.8.2.1.1.1.1.2 0v.2c.3-.1.2-.4.6-.3v.6c.2 0 .2-.1.3-.2 0 .1.1.1.1.2.5 0 .6-.4 1-.6 0 .1-.1.2-.1.3.7-.2.9-.8 1.5-1.1.1 0 .1.1 0 .2.1 0 .1-.2.2-.1 0 .1 0 .1.1.2 0-.1.2-.2.3-.3.1 0 .1.1.2.2.4 0 .5.1 1 .1.1.2 0 .4.2.5.2 0 .1-.1.2-.2.1 0 .1.1.2 0s.2-.2.3-.2c.2 0 .3.2.5.1.3.1.3.3.2.5.1-.1.2-.2.3-.2.1 0 0 .2.1.2.4-.1.4-.4.8-.5.1.1 0 .3.1.5.3-.1.6-.3.8-.5.1 0 .2 0 .3.1 0-.1.1-.2.2-.2 0 .1.1.1 0 .2.3 0 .3.2.5.3 0-.1.2-.2.4-.2V5c.5 0 .5.4.7.6.3-.2.5-.1.8-.1.1.1 0 .2 0 .3.3-.1.4-.4.6-.5 0 .1.2 0 .2.1s-.1.2-.2.3c.1 0 .3.1.1.3 1.5 0 1.9-1.1 2.5-1.8.2-.1.4 0 .7-.1.1.1.3.2.4.2.1-.1.2-.1.3 0 .1 0 0-.2.1-.2.4.2.7.3 1 .5.1 0 .1-.1.2-.1 0 .1-.1.1 0 .2 0 0 0-.1.2-.1.1.1 0 .2 0 .3.6-.1.6.3 1.2.1 0 .1 0 .2.1.2.1-.2.1-.4.4-.5.2.1.2.2.3.3.2 0 .1-.1.2-.1.1.2.2.2.4.3.2-.1.3-.4.6-.5 0 .1-.1.2 0 .3.2-.1.4-.3.5-.5.3 0 .4.1.6.2.2-.1.3 0 .5 0 0 .1.1.2.1.3.2 0 .5 0 .5.2.3 0 .5-.2.7-.3 0 .1 0 .1.1.2.2-.1.1-.3.3-.4.1.1.2 0 .3.1 0 .1-.1.2 0 .2.1-.1.2 0 .3-.1.1 0 0 .2.1.1 0-.2.1-.1.2-.1 0-.2-.2-.3-.2-.4 0-.3.3-.4.3-.6.4.3-.1.7.2 1 .3.1.3-.1.2-.2.1-.4.3-.6.5-.9.2 0 .2-.2.4-.2h.1c0 .3.1.6.2.7.1-.1.2.1.4.1.1-.1.1-.3 0-.4.2.3.4-.1.6-.2.1.1.2.1.2.2.3 0 .5 0 .7-.2.1.2.3.1.5.2.1-.2.2-.3.4-.3.1.1.2.3.3.4 0-.1.1-.3.2-.4.1 0 0 .1.1.1 0-.2-.1-.5.2-.5.3 0 .3.2.5.3 0-.1.2-.1.2-.1.1-.2.1-.4.2-.5.3 0 .4-.1.7 0 .2-.2.7-.1 1-.1 0-.1 0-.1.1-.1 1.6 0 2.9-.2 4.7-.2.1 0 .2.2.2.1-.1 0 0-.1.1-.1.3.1.5.1.8.1.1.2 0 .4.1.6.2 0 .3-.1.3-.2s-.1-.1-.1-.2c.1 0 0-.1.1-.1.2.2 0 .4.2.5.1-.3.1-.4.2-.6.1.1.1 0 .3 0 .1.1.1.3.2.4.1-.3.5 0 .6.1.3 0 .5-.2.8 0 .1 0 0-.2.2-.1 0 .2-.1.4 0 .5 0-.2.3-.2.3-.4.2 0 .1.1.2.1l.2-.2c.1.2.2.2.3.4 0-.3.3-.4.6-.5.1.1.1.1.2.1.7-.1 1.5 0 2.3-.1 0 .1.1.2.2.2s.1-.2.2-.2c.1.1.6 0 .7.1 0 .3.2.3.3.5.3 0 .4-.4.7-.3-.1.1.4-.1.4.1.7-.5 1.7-.2 2.5-.2.2 0 .5-.1.7-.1.9 0 1.7.1 2.4.1.1 0 0 .2.1.2v-.1c.1.2.3-.1.6 0 .1 0 0 .1.2.1.1 0 .1-.1.2-.1.5-.1.8.1 1 .1.2 0 .4.1.5 0 1-.2 2.4.1 3.6 0 0 0-.1.1 0 .1.2 0 .1-.1.2-.1.1.2.3.1.4.3 0-.1.1 0 .3 0 0-.2.1-.3.2-.3 0 .1.1.1.1.1 0 .1-.1.1-.1.2.1 0 .1-.1.2 0 .1-.2.2-.3.4-.4.1.3 0 .6.2.8.3 0 .1-.5.4-.6.2.1.2-.1.4-.1.1 0 0 .2.1.2.1-.1 0-.3.2-.3.1 0 .1 0 .1.1s-.2.3-.1.4c.1 0 .1-.1.2-.1v.2c.1-.3.3-.7.7-.5 0 .2-.1.2-.1.4.1.1.2 0 .3 0 0-.3.2-.4.4-.5.1.1.2.1.4 0 .1.2.1.3.2.5.2-.1.2-.4.3-.5.3 0 .4.1.6.2-.2-.1-.3.2 0 .2 0-.2.2-.1.2 0 0-.2.1-.4.2-.5l.3.6c.4 0 .5.3.4.5.1 0 .1-.1.2-.1.2.1.3.1.3.2 0-.2.1-.4.2-.5.1.3.1.5.4.7.1-.1.2-.3.3-.2 0 .1.2.1.3.2 0-.1.1-.3.2-.2 0-.1 0-.3.2-.3 0 .2 0 .4.2.5.1-.1.1-.3.3-.1-.1-.2.1-.4 0-.6.1 0 .1.1.2.1.1-.1.1-.3.2-.4.2.3.3.6.5.8 0-.1.1-.1.1-.1.1-.1-.2-.2 0-.2.1 0 0 .1.1.1.1-.3-.1-1 .3-1.1 0 .2.1.6.1.9.3 0 .2.2.4.4.1-.2 0-.6.4-.6.1.1.3.3.2.4h.2c0 .1-.1.2 0 .2.3-.2 0-.6 0-1h.2c0 .2 0 .4.2.6.3-.3-.1-1 .4-1.1 0 .4-.1.8.1 1-.2 0-.1.2 0 .3 0-.2.1.1.1.1v-.2c.1.1 0 .2 0 .2.3 0 .2-.2.3-.3 0-.1-.1-.1-.1-.2.5-.1.1-.9.7-1.1.1.3-.1.9-.3 1.2-.1 0 0-.1-.1 0 0 .3 0 .6.2.7 0-.4 0-.8.2-1.1.1.2.1.7.1 1 .2 0 .4.2.6.2.1.1 0 .2.2.2 0-.2-.2-.1-.1-.2s.2-.1.4 0c0-.2.1-.3.2-.4.3.4-.2.8.3 1h.1c.1-.2-.1-.3-.1-.6.2-.1.3-.1.6-.2-.1-.2 0-.3 0-.5-.1 0-.2-.1-.2-.1 0-.2-.1-.3.1-.4.1 0 .2 0 .2.1.1 0 .1-.1.2-.1.1.1 0 .1.1.2.1-.3.1-.7.4-1 0 .4.2.2.4.3 0-.2.1-.3.1-.4 0 0 .3-.1.3 0-.2.2.2.8-.3.8 0 .3-.2.3-.1.6.1 0 .2.1.3.2 0 .2-.1.3 0 .4 0-.2.2-.2.2-.4-.2-.3-.1-.8.1-1 .2.1.4 0 .6 0v.3c.2 0 .1.2.3.2.1 0 0-.2.1-.2.2.3-.2.6-.2.8h-.2c0 .1.2 0 .1.2-.1-.1-.2-.1-.2 0s.1.1.2.2c.3-.3.5-.7.4-1.2.1-.2.3-.2.4-.4.1 0 .2.2.2.1-.2-.2.1-.4 0-.6-.2 0-.3.1-.5 0-.1.1 0 .2-.1.2 0-.1-.2-.4.1-.4.1 0 0 .1.1.1.1-.1 0 0 0-.1.7-.1 1-.1 1.7-.1-.1.2.3.4.4.4-.1-.1-.2-.2-.1-.4h.4c-.1.1 0 .2 0 .4 0 .1-.1.1-.2.1 0 .2.2.2.1.4.2.1.3.1.5 0 .1 0 .1.2.3.2.1-.4.1-.7-.1-1.2.3 0 .9-.1 1 .1h-.4c-.1.4 0 .7.3.8.1 0 0-.2.1-.2h.2c.2-.3-.1-.5-.1-.8h1.3c-.1.1.1.1.1.2.2 0 .1-.1.3-.2.2.3 0 .7.2 1-.1-.1 0-.1.1-.2.2.1 0 .7.4.6-.2.1 0 .3.1.4 0-.3.2-.4.4-.5 0-.5-.2-.7-.1-1.2l.3.3c-.2.1.2.3 0 .5.3.1.1.3.3.4.2-.1.2.2.4.3.2-.1-.1-.2 0-.3 0 .1 0-.1.1 0 0 .2 0 .3.2.4.1.1.1-.2.2-.1-.1 0 0 .1 0 .2.2 0 .2.2.4.3 0-.1.2-.1.3-.1.1.1.2.2.4.3 0-.1-.1-.2-.2-.2.2 0 0-.2.1-.3.2.1.3.4.6.4 0-.3-.2-.4-.1-.7.2 0 .1.2.1.3.3.2.3.6.5.8.2-.1.2.2.4 0 0-.2-.2-.2-.2-.4.2.1.3.1.5.2-.1-.3-.2-.7-.2-.9.2-.1 0 .2.2.2 0-.2 0 0 .1 0 .1-.1.1-.2.2-.3.5-.1.5.5.8.8h.2c.1-.1 0-.2.1-.3.2.1.3-.1.4-.1-.1-.2 0-.6-.1-.8h-.1c.1-.1.2 0 .2 0 0 .3 0 .4.1.7.2.1.2-.1.3 0-.1.1-.1.2 0 .2 0-.5 0-1-.4-1.2 0-.1 0-.1.1-.2.1 0 .1.1.2.1.2-.2.5-.5.8-.2v-.1c.4-.1.6.1.8.1.1 0 .3-.2.4 0-.1.1-.2.1-.4.1 0 .1-.1.2 0 .3.1-.1 0 .1 0 .1 0-.1.1 0 .2 0 0 .1-.2.2 0 .2.1-.1.1-.2.3-.2.2 0 0 .4.2.4.1 0 0-.2.1-.2.5-.1.5-.5 1-.5 0 .1 0 .2.1.1-.1-.3.1-.4.5-.4.1 0 0 .2.1.2.2-.3.6 0 .8-.2 0 .1 0 .1.1.1.6-.2 1.6 0 2.2-.1.1.1.3.1.4.2 0 .2-.2.5.1.5.2-.1 0-.3.2-.4.2 0 .2.2.2.3 0-.1.2-.1.3-.1-.1 0 0 .3-.1.3.2-.1 0-.4.3-.4.1.2.1.5.2.8 0-.3.3-.3.3-.8.1 0 .2 0 .2-.1-.1-.1 0-.3.1-.4.1.1-.1.8.1.9.2-.2 0-.6.3-.8.1 0 0 .1.1.1.1-.1-.1-.1 0-.1 0 .1.1.2 0 .2s0-.1-.1-.1c0 .2.1.2.2.3.2 0 .2-.1.3 0 0-.1.1-.2.2-.3.1 0 .1.1.2 0 .1-.7 1-.2 1.5-.4 0 .1 0 .2.1.3 0-.1.1-.3.2-.3s.2 0 .2.1c-.3.1-.4.4-.6.6-.2-.1.2-.4 0-.3-.1.1-.1.7 0 .9 0-.1.1-.1.3-.1.1-.5.2-1 .5-1.3.9.1 1.6 0 2.4 0 0 .1 0 .2.1.3.1-.1-.1-.2 0-.3.1 0 .1-.1.2-.1v.2c.1-.2.2-.2.3-.2.1 0 .1.1.1.2.2-.2.3-.1.4-.2.1 0 .1.1.1.1.2 0 .1-.1.3-.1V2c.3-.2.6-.1 1-.1.2.1.1.4.3.5 0-.1.1-.1.2-.2 0-.1-.2 0-.2-.2h.5c.9-.2 1.7.1 2.6 0 .2 0 .1.3.2.3.1-.2 0-.1 0-.3.5-.1 1 .1 1.2-.2-.3-.1-.4 0-.7 0 .1-.1-.3 0-.4 0 0-.1-.2-.1-.1-.2h1.5c.4 0 .6-.4 1-.3.1 0 0-.1.1-.1s-.1.1.1.1c.5-.1 1.2 0 1.2-.5-.8-.2-1.6-.2-2.7-.2zM3.7 1.5c0-.1.1-.1.2-.1 0 .1-.1.1-.2.1zm110.8 2c0-.1 0-.1.1-.1s0 .1-.1.1zm6.6-.2c-.2 0 0-.1 0-.2.1 0 0 .2 0 .2zm12.3.3c0-.1 0-.1.1-.1.2.1.2.3.3.5-.3-.1-.2-.4-.4-.4zm.7-.5c-.1-.2 0-.3 0-.6.3.1.3.5 0 .6zm2.8-.1v-.2c.2 0 .2.2 0 .2zm.3-.4c0 .1 0 .1-.1.1.1 0 .1-.1.1-.1 0-.1.1-.2.2-.1 0 .1-.1.2-.2.1zm7.4 0c-.1 0 0-.1 0-.2h.2c-.1.2-.2.1-.2.2zM66.7 5.5c-.1 0 .2-.1 0-.3-.1.1-.1.4 0 .3zm52-1.2c.1 0 .1.1.2 0 0-.3.3-.5.1-.7-.1.3-.1.6-.3.7zm17.1-1.1c0 .3.3.3.2.5h.2c-.3-.2.2-.4.1-.6-.1.2-.4 0-.5.1z"/></g></svg></div>';
        }
        echo $title_html;
    }

    /**
     * Render heading widget output in the editor.
     *
     * Written as a Backbone JavaScript template and used to generate the live preview.
     *
     * @since  1.0.0
     * @access protected
     */
    protected function content_template() {
        ?>
        <#
        var title = settings.title;

        if ( '' !== settings.link.url ) {
        title = '<a href="' + settings.link.url + '">' + title + '</a>';
        }

        view.addRenderAttribute( 'title', 'class', [ 'elementor-heading-title', 'elementor-size-' + settings.size ] );

        view.addInlineEditingAttributes( 'title' );

        var title_html = '<' + settings.header_size  + ' ' + view.getRenderAttributeString( 'title' ) + '>' + title + '</' + settings.header_size + '>';

        if(settings.show_decor !== '') {
        title_html += '<div class="heading-decor"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 160 6" xml:space="preserve"><g class="nc-icon-wrapper"><path fill-rule="evenodd" clip-rule="evenodd" d="M.9 2.3C1 2.1.7 2 .6 1.8c-.2.1-.3.2-.5.3.2.3 0 .6-.1.9.2 0 .2.1.4.1.1-.1.4-.2.4-.2-.1 0-.1.3 0 .3.2-.1.4-.2.7-.2-.2-.4.2-.8.2-1.1-.4 0-.5.3-.8.4zM68.2 5c.1.1.2.1.3 0 0-.1.1-.3.1-.4-.3 0-.3.3-.4.4zm3.3-1.2c0 .2.1.3.2.3-.1-.1-.1-.2-.2-.3zm48.7 1.6c.2 0 .1-.2 0-.3v.3zm2.2-2.3c.1 0-.2.1-.2.2.2 0 .1.3.4.3 0-.3.2-.3.2-.4-.1 0-.1.1-.2.1 0-.1-.1-.3-.2-.2zm12.9-.2V3h.2c0-.1-.1 0-.2-.1zm8 1c0-.1.1-.1 0-.2s-.1.2 0 .2zm2.5 0c-.1.1-.1.1 0 0 0 .1.1 0 0 0zm7-1.4c-.1.2.4.1 0 0zm5.1-1c-.2 0-.6.1-.6.2h.1c.1-.2.3-.1.4 0 .5.1.7-.3 1.1-.1.1-.1.3-.1.3-.2-.3-.1-.8.1-1.3.1zm-.8-.9h-2.2c-1.5.1-3 .1-4.4.1-.6 0-1.9-.1-2.1.1-.5-.1-1.3-.1-1.9-.1-7.1 0-14.6.4-21.9 0-1.4-.1-2.9.1-4.4 0-1.2 0-2.4-.2-3.5-.1-.5 0-1 .1-1.5.2-3.5.2-7.1.1-10.9 0-3.9-.2-7.6-.1-11.5-.3C86.4.2 80 .5 73.7.2h-.8c-1.3-.1-2.5.1-3.8.2-2.2.1-4.3.1-6.4.2-3 .1-5.9.4-8.9.3C51.6.8 49.2.8 47 .7h-1.6c-2.2-.1-4.5-.1-6.7 0-2.4.1-4.7 0-6.9 0-.8 0-1.4.2-2.1.2-.2 0-.4-.1-.6 0-.3 0-.5.1-.8.1-.2 0-.5-.1-.8-.1-.3 0-.5.1-.8.1-.3 0-.6-.1-.8-.1-.4 0-.8.1-1.3.1-.6 0-1 .1-1.6.1h-1.7c-1.1 0-2.2.1-3.3.1-1 0-2.1.1-3.1 0-1.6-.1-3.3.1-4.8.1-.4 0-.8.1-1.2.1-.3 0-.5-.1-.8-.1-.4 0-.7.1-1 .1H5.4c-.4-.2-.9-.1-1.4-.1H2.6c0 .1.1.1 0 .2.3-.1.6-.1.7 0-.1.2.2.4-.1.5-.1-.1-.3-.2-.4-.1 0-.2-.2-.2-.3-.3 0-.1.1-.1.1-.2-.3 0-1-.1-.8.2.2-.2.5-.2.7 0 0 .1 0 .3.1.4-.4.2-.4.4-.5.9-.1 0-.6.2-.2.3.1-.1 0-.1 0-.2H2c.1.1.2.2.2.4.2 0 .1-.1.2-.1v.1c.1-.1 0-.2.2-.2s.1.1.2.1c.1-.2 0-.5.3-.6 0 .2 0 .4-.1.5.1.1.2.1.3.2.1 0 .1-.2.3-.2 0 0 0 .1.1.1 0-.1.1-.1.2-.1 0 .3.3.4.5.5.5-.1.7-.3 1.2-.1 0-.2.1-.3.4-.3v.4c.1 0 .1-.1.2-.1v.1c.3 0 .4-.4.7-.2 0-.3.3-.3.6-.4.2.2.4 0 .6.2.1 0 0-.2.2-.1.1.1.3.1.3.3.1-.1.3 0 .5 0 0 .1.1.1.1.2.3-.1.3 0 .5-.1 0 .1.1.1.1.2.1-.1.3 0 .5.1-.1 0-.1.2 0 .3.3-.1.4.1.7 0 0 .1.1.3.2.1 0 .1.1.3.3.3.1 0 .1-.2.2-.2s0 .1.2.1c.5-.1 1 0 1.4.1.1-.3.4-.1.8-.2.1 0 .1.2.2.2.2-.1.5-.2.7-.1v-.1c.2.2.6.1.9.2.1-.3.4 0 .6-.1.2.3.4.1.7.1.4-.2.9-.1 1.5-.2 0 .1.2.1.2.2l.3-.3c.3.2.5 0 .7.1.1-.1.2-.1.3-.2 0 .2.1.1.3.1.2.1.3.2.4.2.2 0 .3-.3.5-.3.4-.1.6.1.8-.1v.1c.4-.1.8-.1 1 .2.4-.4 1 0 1.5-.3.1 0 .1.1.2.1 0-.2.2 0 .3 0 .4-.1.6 0 .8-.2-.1.2.1.2.1.3.4-.3.9 0 1.3-.2v.2c.2-.1.2-.2.4-.2.2.2.7 0 .7.2.1 0 0-.2.1-.1.1 0 0 .1.2.1.8-.2 2-.1 2.8-.1.1 0 .1-.1.1-.1.1 0 .1.1.2.1s.1-.1.1-.1c.8.1 1.3-.1 2 .1.3-.1 1.1-.1 1.3 0 .2-.1.7-.1.9.1.1 0 .1-.2.3-.2.2.1.3.2.5.3.1 0 0-.1.2-.1.2.1.2.2.2.3.1 0 .3-.1.4 0 0-.1.1-.1.2-.1.2 0 .1.2.2.3.2.1.2-.1.3-.1.5 0 .5.3.9.3.1 0 .1-.2.4-.1 0 .1-.1.1 0 .2.1-.1.2-.2.3-.2.2.1.5.4.8.2.1.1.1.1.2 0v.2c.3-.1.2-.4.6-.3v.6c.2 0 .2-.1.3-.2 0 .1.1.1.1.2.5 0 .6-.4 1-.6 0 .1-.1.2-.1.3.7-.2.9-.8 1.5-1.1.1 0 .1.1 0 .2.1 0 .1-.2.2-.1 0 .1 0 .1.1.2 0-.1.2-.2.3-.3.1 0 .1.1.2.2.4 0 .5.1 1 .1.1.2 0 .4.2.5.2 0 .1-.1.2-.2.1 0 .1.1.2 0s.2-.2.3-.2c.2 0 .3.2.5.1.3.1.3.3.2.5.1-.1.2-.2.3-.2.1 0 0 .2.1.2.4-.1.4-.4.8-.5.1.1 0 .3.1.5.3-.1.6-.3.8-.5.1 0 .2 0 .3.1 0-.1.1-.2.2-.2 0 .1.1.1 0 .2.3 0 .3.2.5.3 0-.1.2-.2.4-.2V5c.5 0 .5.4.7.6.3-.2.5-.1.8-.1.1.1 0 .2 0 .3.3-.1.4-.4.6-.5 0 .1.2 0 .2.1s-.1.2-.2.3c.1 0 .3.1.1.3 1.5 0 1.9-1.1 2.5-1.8.2-.1.4 0 .7-.1.1.1.3.2.4.2.1-.1.2-.1.3 0 .1 0 0-.2.1-.2.4.2.7.3 1 .5.1 0 .1-.1.2-.1 0 .1-.1.1 0 .2 0 0 0-.1.2-.1.1.1 0 .2 0 .3.6-.1.6.3 1.2.1 0 .1 0 .2.1.2.1-.2.1-.4.4-.5.2.1.2.2.3.3.2 0 .1-.1.2-.1.1.2.2.2.4.3.2-.1.3-.4.6-.5 0 .1-.1.2 0 .3.2-.1.4-.3.5-.5.3 0 .4.1.6.2.2-.1.3 0 .5 0 0 .1.1.2.1.3.2 0 .5 0 .5.2.3 0 .5-.2.7-.3 0 .1 0 .1.1.2.2-.1.1-.3.3-.4.1.1.2 0 .3.1 0 .1-.1.2 0 .2.1-.1.2 0 .3-.1.1 0 0 .2.1.1 0-.2.1-.1.2-.1 0-.2-.2-.3-.2-.4 0-.3.3-.4.3-.6.4.3-.1.7.2 1 .3.1.3-.1.2-.2.1-.4.3-.6.5-.9.2 0 .2-.2.4-.2h.1c0 .3.1.6.2.7.1-.1.2.1.4.1.1-.1.1-.3 0-.4.2.3.4-.1.6-.2.1.1.2.1.2.2.3 0 .5 0 .7-.2.1.2.3.1.5.2.1-.2.2-.3.4-.3.1.1.2.3.3.4 0-.1.1-.3.2-.4.1 0 0 .1.1.1 0-.2-.1-.5.2-.5.3 0 .3.2.5.3 0-.1.2-.1.2-.1.1-.2.1-.4.2-.5.3 0 .4-.1.7 0 .2-.2.7-.1 1-.1 0-.1 0-.1.1-.1 1.6 0 2.9-.2 4.7-.2.1 0 .2.2.2.1-.1 0 0-.1.1-.1.3.1.5.1.8.1.1.2 0 .4.1.6.2 0 .3-.1.3-.2s-.1-.1-.1-.2c.1 0 0-.1.1-.1.2.2 0 .4.2.5.1-.3.1-.4.2-.6.1.1.1 0 .3 0 .1.1.1.3.2.4.1-.3.5 0 .6.1.3 0 .5-.2.8 0 .1 0 0-.2.2-.1 0 .2-.1.4 0 .5 0-.2.3-.2.3-.4.2 0 .1.1.2.1l.2-.2c.1.2.2.2.3.4 0-.3.3-.4.6-.5.1.1.1.1.2.1.7-.1 1.5 0 2.3-.1 0 .1.1.2.2.2s.1-.2.2-.2c.1.1.6 0 .7.1 0 .3.2.3.3.5.3 0 .4-.4.7-.3-.1.1.4-.1.4.1.7-.5 1.7-.2 2.5-.2.2 0 .5-.1.7-.1.9 0 1.7.1 2.4.1.1 0 0 .2.1.2v-.1c.1.2.3-.1.6 0 .1 0 0 .1.2.1.1 0 .1-.1.2-.1.5-.1.8.1 1 .1.2 0 .4.1.5 0 1-.2 2.4.1 3.6 0 0 0-.1.1 0 .1.2 0 .1-.1.2-.1.1.2.3.1.4.3 0-.1.1 0 .3 0 0-.2.1-.3.2-.3 0 .1.1.1.1.1 0 .1-.1.1-.1.2.1 0 .1-.1.2 0 .1-.2.2-.3.4-.4.1.3 0 .6.2.8.3 0 .1-.5.4-.6.2.1.2-.1.4-.1.1 0 0 .2.1.2.1-.1 0-.3.2-.3.1 0 .1 0 .1.1s-.2.3-.1.4c.1 0 .1-.1.2-.1v.2c.1-.3.3-.7.7-.5 0 .2-.1.2-.1.4.1.1.2 0 .3 0 0-.3.2-.4.4-.5.1.1.2.1.4 0 .1.2.1.3.2.5.2-.1.2-.4.3-.5.3 0 .4.1.6.2-.2-.1-.3.2 0 .2 0-.2.2-.1.2 0 0-.2.1-.4.2-.5l.3.6c.4 0 .5.3.4.5.1 0 .1-.1.2-.1.2.1.3.1.3.2 0-.2.1-.4.2-.5.1.3.1.5.4.7.1-.1.2-.3.3-.2 0 .1.2.1.3.2 0-.1.1-.3.2-.2 0-.1 0-.3.2-.3 0 .2 0 .4.2.5.1-.1.1-.3.3-.1-.1-.2.1-.4 0-.6.1 0 .1.1.2.1.1-.1.1-.3.2-.4.2.3.3.6.5.8 0-.1.1-.1.1-.1.1-.1-.2-.2 0-.2.1 0 0 .1.1.1.1-.3-.1-1 .3-1.1 0 .2.1.6.1.9.3 0 .2.2.4.4.1-.2 0-.6.4-.6.1.1.3.3.2.4h.2c0 .1-.1.2 0 .2.3-.2 0-.6 0-1h.2c0 .2 0 .4.2.6.3-.3-.1-1 .4-1.1 0 .4-.1.8.1 1-.2 0-.1.2 0 .3 0-.2.1.1.1.1v-.2c.1.1 0 .2 0 .2.3 0 .2-.2.3-.3 0-.1-.1-.1-.1-.2.5-.1.1-.9.7-1.1.1.3-.1.9-.3 1.2-.1 0 0-.1-.1 0 0 .3 0 .6.2.7 0-.4 0-.8.2-1.1.1.2.1.7.1 1 .2 0 .4.2.6.2.1.1 0 .2.2.2 0-.2-.2-.1-.1-.2s.2-.1.4 0c0-.2.1-.3.2-.4.3.4-.2.8.3 1h.1c.1-.2-.1-.3-.1-.6.2-.1.3-.1.6-.2-.1-.2 0-.3 0-.5-.1 0-.2-.1-.2-.1 0-.2-.1-.3.1-.4.1 0 .2 0 .2.1.1 0 .1-.1.2-.1.1.1 0 .1.1.2.1-.3.1-.7.4-1 0 .4.2.2.4.3 0-.2.1-.3.1-.4 0 0 .3-.1.3 0-.2.2.2.8-.3.8 0 .3-.2.3-.1.6.1 0 .2.1.3.2 0 .2-.1.3 0 .4 0-.2.2-.2.2-.4-.2-.3-.1-.8.1-1 .2.1.4 0 .6 0v.3c.2 0 .1.2.3.2.1 0 0-.2.1-.2.2.3-.2.6-.2.8h-.2c0 .1.2 0 .1.2-.1-.1-.2-.1-.2 0s.1.1.2.2c.3-.3.5-.7.4-1.2.1-.2.3-.2.4-.4.1 0 .2.2.2.1-.2-.2.1-.4 0-.6-.2 0-.3.1-.5 0-.1.1 0 .2-.1.2 0-.1-.2-.4.1-.4.1 0 0 .1.1.1.1-.1 0 0 0-.1.7-.1 1-.1 1.7-.1-.1.2.3.4.4.4-.1-.1-.2-.2-.1-.4h.4c-.1.1 0 .2 0 .4 0 .1-.1.1-.2.1 0 .2.2.2.1.4.2.1.3.1.5 0 .1 0 .1.2.3.2.1-.4.1-.7-.1-1.2.3 0 .9-.1 1 .1h-.4c-.1.4 0 .7.3.8.1 0 0-.2.1-.2h.2c.2-.3-.1-.5-.1-.8h1.3c-.1.1.1.1.1.2.2 0 .1-.1.3-.2.2.3 0 .7.2 1-.1-.1 0-.1.1-.2.2.1 0 .7.4.6-.2.1 0 .3.1.4 0-.3.2-.4.4-.5 0-.5-.2-.7-.1-1.2l.3.3c-.2.1.2.3 0 .5.3.1.1.3.3.4.2-.1.2.2.4.3.2-.1-.1-.2 0-.3 0 .1 0-.1.1 0 0 .2 0 .3.2.4.1.1.1-.2.2-.1-.1 0 0 .1 0 .2.2 0 .2.2.4.3 0-.1.2-.1.3-.1.1.1.2.2.4.3 0-.1-.1-.2-.2-.2.2 0 0-.2.1-.3.2.1.3.4.6.4 0-.3-.2-.4-.1-.7.2 0 .1.2.1.3.3.2.3.6.5.8.2-.1.2.2.4 0 0-.2-.2-.2-.2-.4.2.1.3.1.5.2-.1-.3-.2-.7-.2-.9.2-.1 0 .2.2.2 0-.2 0 0 .1 0 .1-.1.1-.2.2-.3.5-.1.5.5.8.8h.2c.1-.1 0-.2.1-.3.2.1.3-.1.4-.1-.1-.2 0-.6-.1-.8h-.1c.1-.1.2 0 .2 0 0 .3 0 .4.1.7.2.1.2-.1.3 0-.1.1-.1.2 0 .2 0-.5 0-1-.4-1.2 0-.1 0-.1.1-.2.1 0 .1.1.2.1.2-.2.5-.5.8-.2v-.1c.4-.1.6.1.8.1.1 0 .3-.2.4 0-.1.1-.2.1-.4.1 0 .1-.1.2 0 .3.1-.1 0 .1 0 .1 0-.1.1 0 .2 0 0 .1-.2.2 0 .2.1-.1.1-.2.3-.2.2 0 0 .4.2.4.1 0 0-.2.1-.2.5-.1.5-.5 1-.5 0 .1 0 .2.1.1-.1-.3.1-.4.5-.4.1 0 0 .2.1.2.2-.3.6 0 .8-.2 0 .1 0 .1.1.1.6-.2 1.6 0 2.2-.1.1.1.3.1.4.2 0 .2-.2.5.1.5.2-.1 0-.3.2-.4.2 0 .2.2.2.3 0-.1.2-.1.3-.1-.1 0 0 .3-.1.3.2-.1 0-.4.3-.4.1.2.1.5.2.8 0-.3.3-.3.3-.8.1 0 .2 0 .2-.1-.1-.1 0-.3.1-.4.1.1-.1.8.1.9.2-.2 0-.6.3-.8.1 0 0 .1.1.1.1-.1-.1-.1 0-.1 0 .1.1.2 0 .2s0-.1-.1-.1c0 .2.1.2.2.3.2 0 .2-.1.3 0 0-.1.1-.2.2-.3.1 0 .1.1.2 0 .1-.7 1-.2 1.5-.4 0 .1 0 .2.1.3 0-.1.1-.3.2-.3s.2 0 .2.1c-.3.1-.4.4-.6.6-.2-.1.2-.4 0-.3-.1.1-.1.7 0 .9 0-.1.1-.1.3-.1.1-.5.2-1 .5-1.3.9.1 1.6 0 2.4 0 0 .1 0 .2.1.3.1-.1-.1-.2 0-.3.1 0 .1-.1.2-.1v.2c.1-.2.2-.2.3-.2.1 0 .1.1.1.2.2-.2.3-.1.4-.2.1 0 .1.1.1.1.2 0 .1-.1.3-.1V2c.3-.2.6-.1 1-.1.2.1.1.4.3.5 0-.1.1-.1.2-.2 0-.1-.2 0-.2-.2h.5c.9-.2 1.7.1 2.6 0 .2 0 .1.3.2.3.1-.2 0-.1 0-.3.5-.1 1 .1 1.2-.2-.3-.1-.4 0-.7 0 .1-.1-.3 0-.4 0 0-.1-.2-.1-.1-.2h1.5c.4 0 .6-.4 1-.3.1 0 0-.1.1-.1s-.1.1.1.1c.5-.1 1.2 0 1.2-.5-.8-.2-1.6-.2-2.7-.2zM3.7 1.5c0-.1.1-.1.2-.1 0 .1-.1.1-.2.1zm110.8 2c0-.1 0-.1.1-.1s0 .1-.1.1zm6.6-.2c-.2 0 0-.1 0-.2.1 0 0 .2 0 .2zm12.3.3c0-.1 0-.1.1-.1.2.1.2.3.3.5-.3-.1-.2-.4-.4-.4zm.7-.5c-.1-.2 0-.3 0-.6.3.1.3.5 0 .6zm2.8-.1v-.2c.2 0 .2.2 0 .2zm.3-.4c0 .1 0 .1-.1.1.1 0 .1-.1.1-.1 0-.1.1-.2.2-.1 0 .1-.1.2-.2.1zm7.4 0c-.1 0 0-.1 0-.2h.2c-.1.2-.2.1-.2.2zM66.7 5.5c-.1 0 .2-.1 0-.3-.1.1-.1.4 0 .3zm52-1.2c.1 0 .1.1.2 0 0-.3.3-.5.1-.7-.1.3-.1.6-.3.7zm17.1-1.1c0 .3.3.3.2.5h.2c-.3-.2.2-.4.1-.6-.1.2-.4 0-.5.1z"/></g></svg></div>';
        }
        print( title_html );
        #>
        <?php
    }
}

$widgets_manager->register(new OSF_Elementor_Heading());